<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <!-- 引入Vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <!-- 引入Axios，用于发起HTTP请求 -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<style>
    /* 样式部分保持不变 */

    body {
        margin: 0;
        padding: 0;
    }

    #head {
        width: 100%;
        height: 80px;
        background: rgba(26, 212, 131, 1);
        display: flex;
        justify-content: flex-end;
        align-items: center;
    }

    #main {
        width: 50%;
        height: 120%;
        margin: 0 auto;
        margin-top: 10%;
        overflow: hidden;
        display: flex;
        border-radius: 10px;
        overflow: hidden;
        background: rgba(255, 255, 255, 1);
        border: 1px solid rgba(223, 222, 222, 1);
        box-shadow: inset 0px 2px 16px rgba(6, 0, 1, 0.31);
    }

    #left {
        flex: 1;
        width: 50%;

        box-sizing: border-box;
        border-radius: 10px;
        padding-bottom: 10%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    #right {
        flex: 1;
        width: 50%;
        box-sizing: border-box;
        background: rgba(26, 212, 131, 1);
    }

    form {
        margin-top: 20px;
        text-align: center;
    }

    table {
        width: 100%;
    }

    td {
        padding: 5px;
    }

    h2 {
        text-align: center;
    }

    #left button {
        margin-top: 20px;
        opacity: 1;
        width: 36%;
        border-radius: 42px;
        background: rgba(26, 212, 131, 1);
        border: 1px solid rgba(111, 166, 207, 1);
        font-size: 18px;
    }
</style>

<body>
<div id="app"></div>

<script>
    new Vue({
        el: '#app',
        template: `
          <div>
            <div id="head"></div>
            <div id="main">
              <div id="left">
                <form>
                  <table>
                    <tr>
                      <td colspan="2"><h2>注册</h2></td>
                    </tr>
                    <tr>
                      <td>用户名：</td>
                      <td><input v-model="username" type="text" name="" id=""></td>
                    </tr>
                    <tr>
                      <td>密码：</td>
                      <td><input v-model="password" type="password" name="" id=""></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td><a href="Login.html">去登录</a></td>
                    </tr>
                    <tr>
                      <td colspan="2">
                        <!-- 修改这里，使用@click.prevent替代type="submit"，并调用新的register方法 -->
                        <button @click.prevent="register">注册</button>
                      </td>
                    </tr>
                  </table>
                </form>
              </div>
              <div id="right"></div>
            </div>
          </div>
        `,
        data() {
            return {
                username: '',
                password: ''
            };
        },
        methods: {
            register() {
                // 发起注册请求给后端
                axios.post('http://localhost:8080/register', {
                    username: this.username,
                    password: this.password
                })
                    .then(response => {
                        // 处理注册成功的逻辑，例如跳转到登录页面
                        console.log(response.data);
                        alert('注册成功，请登录！'); // 根据实际情况进行页面跳转等操作
                    })
                    .catch(error => {
                        // 处理注册失败的逻辑，例如显示错误消息
                        console.error('注册失败', error);
                        alert('注册失败，请检查用户名和密码！');
                    });
            }
        }
    });
</script>
</body>
</html>
